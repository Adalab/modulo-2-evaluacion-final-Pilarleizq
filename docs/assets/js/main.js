"use strict";const inputSearch=document.querySelector(".js-inputSearch"),searchButton=document.querySelector(".js-buttonSearch"),listCocktails=document.querySelector(".js-ulAll"),listFavs=document.querySelector(".js-ulFavs"),inputTrash=document.querySelector(".js-trash");let listCocktailsData=[],listFavsData=[];const cocktailsStored=JSON.parse(localStorage.getItem("cocktails"));cocktailsStored?(listCocktailsData=cocktailsStored,renderListCocktails(listCocktailsData)):fetchCocktails("vodka");const favsStored=JSON.parse(localStorage.getItem("favs"));function fetchCocktails(t){fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+t).then(t=>t.json()).then(t=>{listCocktails.innerHTML="",listCocktailsData=t.drinks,console.log(listCocktailsData),renderListCocktails(listCocktailsData),localStorage.setItem("cocktails",JSON.stringify(listCocktailsData))})}function renderListCocktails(t){listCocktails.innerHTML="";for(const s of t){const t=listFavsData.find(t=>t.idDrink===s.idDrink);console.log(t),listCocktails.innerHTML+=void 0!==t?`<li class="li selected" >\n          <p class="namelist"> ${s.strDrink} </p>\n          <img class="img js-li-cocktails" id=${s.idDrink} src=${s.strDrinkThumb} alt="Foto del cocktail"/>\n          </li>\n          `:`<li class="li" >\n          <p class="namelist"> ${s.strDrink} </p>\n          <img class="img js-li-cocktails" id=${s.idDrink} src=${s.strDrinkThumb} alt="Foto del cocktail"/>\n          </li>\n          `}addEventCocktails()}function renderListFavs(t){listFavs.innerHTML="";for(const s of t)listFavs.innerHTML+=` <li class="li" >\n          <p class="namelist"> ${s.strDrink} </p>\n          <img class="img js-li-cocktails" id=${s.idDrink} src=${s.strDrinkThumb} alt="Foto del cocktail"/>\n          <img class="img2 js-fav-x" id=${s.idDrink} src="./assets/images/boton-x.png"/>\n          </li>\n          `;localStorage.setItem("favs",JSON.stringify(listFavsData)),addEventToX()}function removeFavs(t){const s=t.currentTarget.id;console.log(s);const i=listFavsData.findIndex(t=>t.idDrink===s);listFavsData.splice(i,1),renderListCocktails(listCocktailsData),renderListFavs(listFavsData),localStorage.removeItem("favs")}function handleClickButton(){fetchCocktails(inputSearch.value)}function handleClick(t){t.currentTarget.parentElement.classList.toggle("selected");const s=t.currentTarget.id,i=listCocktailsData.find(t=>t.idDrink===s);-1===listFavsData.findIndex(t=>t.idDrink===s)&&listFavsData.push(i),renderListFavs(listFavsData)}function addEventCocktails(){const t=document.querySelectorAll(".js-li-cocktails");for(const s of t)s.addEventListener("click",handleClick)}function addEventToX(){const t=document.querySelectorAll(".js-fav-x");for(const s of t)s.addEventListener("click",removeFavs)}function handleInput(t){t.preventDefault(),fetchCocktails(inputSearch.value)}favsStored&&(listFavsData=favsStored,renderListFavs(favsStored),renderListCocktails(listCocktailsData)),searchButton.addEventListener("click",handleClickButton),inputSearch.addEventListener("input",handleInput);